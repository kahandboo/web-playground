<!DOCTYPE html>
<html>
    <head>
        <title>게시글 목록</title>
    </head>
    <body>
        <h1>게시글 목록</h1>

        <% posts.forEach((post, idx) => { %>
            <div>
                <h2><%= post.title %></h2>
                <p><%= post.username %></p>
                <p><%= post.content %></p>
                <form method="POST" action="/post/delete/<%= idx %>">
                    <button type="submit" onclick="return confirm('삭제하시겠습니까?')">삭제</button>
                </form> 
                <a href="/post/edit/<%= post.idx %>">수정</a>
            </div>
            <hr>
        <% }); %>

        <a href="/post">글쓰기</a>
        <a href="/profile">회원정보</a>
        <% if (!isLoggedIn) { %>
            <a href="/login">로그인</a>
        <% } else { %>
            <form method="POST" action="/logout" style="display:inline;">
                <button type="submit">로그아웃</button>
            </form>
        <% } %>
    </body>
</html>